<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>@netgrif/petriflow</title><meta name="description" content="Documentation for @netgrif/petriflow"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@netgrif/petriflow</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@netgrif/petriflow</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#petriflowjs" id="petriflowjs" style="color: inherit; text-decoration: none;">
  <h1>Petriflow.js</h1>
</a>
<p><a href="https://www.apache.org/licenses/LICENSE-2.0"><img src="https://img.shields.io/github/license/netgrif/petriflow.js" alt="GitHub"></a>
<a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/npm/dependency-version/@netgrif/petriflow/dev/typescript?label=Typescript" alt="npm dev dependency version (scoped)"></a>
<a href="https://petriflow.com"><img src="https://img.shields.io/badge/Petriflow-1.0.1-0aa8ff" alt="Petriflow 1.0.1"></a>
<a href="https://www.npmjs.com/package/@netgrif/petriflow"><img src="https://img.shields.io/npm/v/@netgrif/petriflow" alt="npm (scoped)"></a>
<a href="https://www.npmjs.com/package/@netgrif/petriflow"><img src="https://img.shields.io/npm/dt/@netgrif/petriflow" alt="npm"></a>
<a href="https://github.com/netgrif/petriflow.js/actions/workflows/release-build.yml"><img src="https://github.com/netgrif/petriflow.js/actions/workflows/master-build.yml/badge.svg" alt="build"></a>
<a href="https://sonarcloud.io/dashboard?id=netgrif_petriflow.js"><img src="https://sonarcloud.io/api/project_badges/measure?project=netgrif_petriflow.js&metric=alert_status" alt="Quality Gate Status"></a>
<a href="https://sonarcloud.io/dashboard?id=netgrif_petriflow.js"><img src="https://sonarcloud.io/api/project_badges/measure?project=netgrif_petriflow.js&metric=coverage" alt="Coverage"></a>
<a href="https://snyk.io/test/github/netgrif/petriflow.js"><img src="https://snyk.io/test/github/netgrif/petriflow.js/badge.svg" alt="Known Vulnerabilities"></a></p>
<blockquote>
<p>Petriflow in Javascript world</p>
</blockquote>
<p>Petriflow.js is a Javascript library of Petriflow objects, written in Typescript. The library is for those who want to integrate Petriflow
processes into their applications. The library is updated together with the Petriflow specification to ensure up-to-date compatibility.
The library also contains functions to parse Petriflow source code from XML files to Javascript objects and to export Javascript Objects to Petriflow source code.</p>
<p>Full specification of Petriflow low-code language can be found at <a href="https://petriflow.com">Petriflow.com</a> </p>

<a href="#install" id="install" style="color: inherit; text-decoration: none;">
  <h2>Install</h2>
</a>
<p>First, make sure you have installed the latest version of Node.js and npm with it (You may need to restart your computer after this step).</p>
<p>You can install it with the following command:</p>
<pre><code class="language-shell"><span class="hl-0">npm install --save @netgrif/petriflow</span>
</code></pre>

<a href="#requirements" id="requirements" style="color: inherit; text-decoration: none;">
  <h3>Requirements</h3>
</a>
<p>Currently, the library <strong>only supports browser applications</strong> because <strong>requires <a href="https://www.w3.org/DOM/DOMTR">DOM Web API</a></strong> to correctly process Petriflow files.
It can be used in Node.js environments with the latest release of the <a href="https://github.com/jsdom/jsdom">jsdom</a> library installed.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>The library support both CommonJS and ES Modules importing systems.</p>
<p>For applications that use the CommonJS module system (Node.js) you can use the <code>require</code> function, i.e.:</p>
<pre><code class="language-javascript"><span class="hl-1">const</span><span class="hl-0"> {</span><span class="hl-2">PetriNet</span><span class="hl-0">, </span><span class="hl-2">ImportService</span><span class="hl-0">} = </span><span class="hl-3">require</span><span class="hl-0">(</span><span class="hl-4">&#39;@netgrif/petriflow&#39;</span><span class="hl-0">)</span>
</code></pre>
<p>For applications supporting ES6+ modules you can use <code>import</code> statement, i.e.:</p>
<pre><code class="language-javascript"><span class="hl-5">import</span><span class="hl-0"> {</span><span class="hl-6">PetriNet</span><span class="hl-0">, </span><span class="hl-6">ImportService</span><span class="hl-0">} </span><span class="hl-5">from</span><span class="hl-0"> </span><span class="hl-4">&quot;@netgrif/petriflow&quot;</span><span class="hl-0">;</span>
</code></pre>
<p>The library is also published with type declaration and so your Typescript project will automatically recognize all types and enumerations.</p>

<a href="#petriflow-model" id="petriflow-model" style="color: inherit; text-decoration: none;">
  <h3>Petriflow model</h3>
</a>
<p>The library contains every object, constant, and structure to fully interpret Petriflow source code files in Javascript.
The root object is a <a href="https://github.com/netgrif/petriflow.js/blob/master/src/lib/model/petri-net.ts">PetriNet</a> which contains all information from the Petriflow process. Every object in the library has
<code>T.clone() =&gt; T</code> method to make a deep copy of the object.</p>

<a href="#import-service" id="import-service" style="color: inherit; text-decoration: none;">
  <h3>Import service</h3>
</a>
<p><code>ImportService</code> class has methods to parse Petriflow XML files to usable objects.</p>
<p>The class can be used to parse the whole file at once or parse only parts of the XML file.</p>

<a href="#import-example" id="import-example" style="color: inherit; text-decoration: none;">
  <h5>Import example</h5>
</a>
<pre><code class="language-javascript"><span class="hl-5">import</span><span class="hl-0"> {</span><span class="hl-6">ImportService</span><span class="hl-0">, </span><span class="hl-6">PetriNetResult</span><span class="hl-0">} </span><span class="hl-5">from</span><span class="hl-0"> </span><span class="hl-4">&#39;@netgrif/petriflow&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-3">fetch</span><span class="hl-0">(</span><span class="hl-4">&#39;https://raw.githubusercontent.com/netgrif/petriflow/main/examples/order-approval.xml&#39;</span><span class="hl-0">).</span><span class="hl-3">then</span><span class="hl-0">(</span><span class="hl-6">result</span><span class="hl-0"> </span><span class="hl-1">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">net</span><span class="hl-0"> = </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-3">ImportService</span><span class="hl-0">().</span><span class="hl-3">parseFromXml</span><span class="hl-0">(</span><span class="hl-6">result</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-6">console</span><span class="hl-0">.</span><span class="hl-3">log</span><span class="hl-0">(</span><span class="hl-4">&#39;Net id: &#39;</span><span class="hl-0"> + </span><span class="hl-6">net</span><span class="hl-0">.</span><span class="hl-6">model</span><span class="hl-0">.</span><span class="hl-6">id</span><span class="hl-0">); </span><br/><span class="hl-0">});</span>
</code></pre>

<a href="#export-service" id="export-service" style="color: inherit; text-decoration: none;">
  <h3>Export service</h3>
</a>
<p><code>ExportService</code> class has methods to export your Petriflow objects to an XML file.</p>
<p>The class can be used to serialize the whole process at once or only parts of it. Methods use <a href="https://www.w3.org/DOM/DOMTR">DOM API</a> to create the Petriflow XML file.</p>

<a href="#export-example" id="export-example" style="color: inherit; text-decoration: none;">
  <h5>Export example</h5>
</a>
<pre><code class="language-javascript"><span class="hl-5">import</span><span class="hl-0"> {</span><span class="hl-6">ExportService</span><span class="hl-0">, </span><span class="hl-6">PetriNet</span><span class="hl-0">} </span><span class="hl-5">from</span><span class="hl-0"> </span><span class="hl-4">&#39;@netgrif/petriflow&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">net</span><span class="hl-0"> = </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-3">PetriNet</span><span class="hl-0">();</span><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">xml</span><span class="hl-0"> = </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-3">ExportService</span><span class="hl-0">().</span><span class="hl-3">exportXml</span><span class="hl-0">(</span><span class="hl-6">net</span><span class="hl-0">);</span><br/><span class="hl-6">console</span><span class="hl-0">.</span><span class="hl-3">log</span><span class="hl-0">(</span><span class="hl-6">xml</span><span class="hl-0">);</span>
</code></pre>

<a href="#reporting-issues" id="reporting-issues" style="color: inherit; text-decoration: none;">
  <h2>Reporting issues</h2>
</a>
<p>If you find a bug, let us know. First, please read our <a href="https://github.com/netgrif/petriflow.js/blob/master/CONTRIBUTING.md">Contribution guide</a></p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p>Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use these files except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/Alignment.html" class="tsd-kind-icon">Alignment</a></li><li class="tsd-kind-enum"><a href="enums/Appearance.html" class="tsd-kind-icon">Appearance</a></li><li class="tsd-kind-enum"><a href="enums/ArcType.html" class="tsd-kind-icon">Arc<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/AssignPolicy.html" class="tsd-kind-icon">Assign<wbr/>Policy</a></li><li class="tsd-kind-enum"><a href="enums/CaseEventType.html" class="tsd-kind-icon">Case<wbr/>Event<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/DataEventType.html" class="tsd-kind-icon">Data<wbr/>Event<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/DataFocusPolicy.html" class="tsd-kind-icon">Data<wbr/>Focus<wbr/>Policy</a></li><li class="tsd-kind-enum"><a href="enums/DataRefBehavior.html" class="tsd-kind-icon">Data<wbr/>Ref<wbr/>Behavior</a></li><li class="tsd-kind-enum"><a href="enums/DataType.html" class="tsd-kind-icon">Data<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/EventPhase.html" class="tsd-kind-icon">Event<wbr/>Phase</a></li><li class="tsd-kind-enum"><a href="enums/FinishPolicy.html" class="tsd-kind-icon">Finish<wbr/>Policy</a></li><li class="tsd-kind-enum"><a href="enums/FunctionScope.html" class="tsd-kind-icon">Function<wbr/>Scope</a></li><li class="tsd-kind-enum"><a href="enums/IconType.html" class="tsd-kind-icon">Icon<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/LayoutType.html" class="tsd-kind-icon">Layout<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/ProcessEventType.html" class="tsd-kind-icon">Process<wbr/>Event<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/RoleEventType.html" class="tsd-kind-icon">Role<wbr/>Event<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/Template.html" class="tsd-kind-icon">Template</a></li><li class="tsd-kind-enum"><a href="enums/TransitionEventType.html" class="tsd-kind-icon">Transition<wbr/>Event<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/TriggerType.html" class="tsd-kind-icon">Trigger<wbr/>Type</a></li><li class="tsd-kind-class"><a href="classes/Action.html" class="tsd-kind-icon">Action</a></li><li class="tsd-kind-class"><a href="classes/Arc.html" class="tsd-kind-icon">Arc</a></li><li class="tsd-kind-class"><a href="classes/AssignedUser.html" class="tsd-kind-icon">Assigned<wbr/>User</a></li><li class="tsd-kind-class"><a href="classes/Breakpoint.html" class="tsd-kind-icon">Breakpoint</a></li><li class="tsd-kind-class"><a href="classes/CaseEvent.html" class="tsd-kind-icon">Case<wbr/>Event</a></li><li class="tsd-kind-class"><a href="classes/CaseLogic.html" class="tsd-kind-icon">Case<wbr/>Logic</a></li><li class="tsd-kind-class"><a href="classes/Component.html" class="tsd-kind-icon">Component</a></li><li class="tsd-kind-class"><a href="classes/DataEvent.html" class="tsd-kind-icon">Data<wbr/>Event</a></li><li class="tsd-kind-class"><a href="classes/DataEventSource.html" class="tsd-kind-icon">Data<wbr/>Event<wbr/>Source</a></li><li class="tsd-kind-class"><a href="classes/DataGroup.html" class="tsd-kind-icon">Data<wbr/>Group</a></li><li class="tsd-kind-class"><a href="classes/DataLayout.html" class="tsd-kind-icon">Data<wbr/>Layout</a></li><li class="tsd-kind-class"><a href="classes/DataRef.html" class="tsd-kind-icon">Data<wbr/>Ref</a></li><li class="tsd-kind-class"><a href="classes/DataRefLogic.html" class="tsd-kind-icon">Data<wbr/>Ref<wbr/>Logic</a></li><li class="tsd-kind-class"><a href="classes/DataRefLogicUtil.html" class="tsd-kind-icon">Data<wbr/>Ref<wbr/>Logic<wbr/>Util</a></li><li class="tsd-kind-class"><a href="classes/DataVariable.html" class="tsd-kind-icon">Data<wbr/>Variable</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/Event.html" class="tsd-kind-icon">Event</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/EventSource.html" class="tsd-kind-icon">Event<wbr/>Source</a></li><li class="tsd-kind-class"><a href="classes/ExportService.html" class="tsd-kind-icon">Export<wbr/>Service</a></li><li class="tsd-kind-class"><a href="classes/ExportUtils.html" class="tsd-kind-icon">Export<wbr/>Utils</a></li><li class="tsd-kind-class"><a href="classes/Expression.html" class="tsd-kind-icon">Expression</a></li><li class="tsd-kind-class"><a href="classes/I18nString.html" class="tsd-kind-icon">I18n<wbr/>String</a></li><li class="tsd-kind-class"><a href="classes/I18nTranslations.html" class="tsd-kind-icon">I18n<wbr/>Translations</a></li><li class="tsd-kind-class"><a href="classes/I18nWithDynamic.html" class="tsd-kind-icon">I18n<wbr/>With<wbr/>Dynamic</a></li><li class="tsd-kind-class"><a href="classes/Icon.html" class="tsd-kind-icon">Icon</a></li><li class="tsd-kind-class"><a href="classes/ImportService.html" class="tsd-kind-icon">Import<wbr/>Service</a></li><li class="tsd-kind-class"><a href="classes/ImportUtils.html" class="tsd-kind-icon">Import<wbr/>Utils</a></li><li class="tsd-kind-class"><a href="classes/Layout.html" class="tsd-kind-icon">Layout</a></li><li class="tsd-kind-class"><a href="classes/Logic.html" class="tsd-kind-icon">Logic</a></li><li class="tsd-kind-class"><a href="classes/Mapping.html" class="tsd-kind-icon">Mapping</a></li><li class="tsd-kind-class"><a href="classes/Option.html" class="tsd-kind-icon">Option</a></li><li class="tsd-kind-class"><a href="classes/PetriNet.html" class="tsd-kind-icon">Petri<wbr/>Net</a></li><li class="tsd-kind-class"><a href="classes/PetriNetResult.html" class="tsd-kind-icon">Petri<wbr/>Net<wbr/>Result</a></li><li class="tsd-kind-class"><a href="classes/PetriflowFunction.html" class="tsd-kind-icon">Petriflow<wbr/>Function</a></li><li class="tsd-kind-class"><a href="classes/Place.html" class="tsd-kind-icon">Place</a></li><li class="tsd-kind-class"><a href="classes/ProcessEvent.html" class="tsd-kind-icon">Process<wbr/>Event</a></li><li class="tsd-kind-class"><a href="classes/ProcessRoleRef.html" class="tsd-kind-icon">Process<wbr/>Role<wbr/>Ref</a></li><li class="tsd-kind-class"><a href="classes/ProcessUserRef.html" class="tsd-kind-icon">Process<wbr/>User<wbr/>Ref</a></li><li class="tsd-kind-class"><a href="classes/Property.html" class="tsd-kind-icon">Property</a></li><li class="tsd-kind-class"><a href="classes/Role.html" class="tsd-kind-icon">Role</a></li><li class="tsd-kind-class"><a href="classes/RoleEvent.html" class="tsd-kind-icon">Role<wbr/>Event</a></li><li class="tsd-kind-class"><a href="classes/RoleRef.html" class="tsd-kind-icon">Role<wbr/>Ref</a></li><li class="tsd-kind-class"><a href="classes/Transaction.html" class="tsd-kind-icon">Transaction</a></li><li class="tsd-kind-class"><a href="classes/Transition.html" class="tsd-kind-icon">Transition</a></li><li class="tsd-kind-class"><a href="classes/TransitionEvent.html" class="tsd-kind-icon">Transition<wbr/>Event</a></li><li class="tsd-kind-class"><a href="classes/TransitionLayout.html" class="tsd-kind-icon">Transition<wbr/>Layout</a></li><li class="tsd-kind-class"><a href="classes/Trigger.html" class="tsd-kind-icon">Trigger</a></li><li class="tsd-kind-class"><a href="classes/UserRef.html" class="tsd-kind-icon">User<wbr/>Ref</a></li><li class="tsd-kind-class"><a href="classes/Validation.html" class="tsd-kind-icon">Validation</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li><li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li><li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>